@using WebStoreElementLogic.Data;
@using WebStoreElementLogic.Entities;

<!-- Removed "mx-4" -->
<section class='d-flex flex-row my-1 bg-light rounded border @(Selected? "border-success selected" : "border-light")' title="@Info.Name" style="cursor: pointer;" @onclick="SelectProduct">
    <img src="@Info.URL" style="width: 10vmin; height: 10vmin;" alt="@Info.Name" aria-label="@Info.Name" />
    <div class="ms-4 mt-lg-3 mt-0">
        <h3 class="text-truncate" style="max-width: 30vw">@Info.Name</h3>
        <span class="d-md-inline-block d-none text-truncate" style="max-width: 30vw;">@Info.Descr</span>
    </div>
</section>

@code {

    [Parameter]
    public Product Info { get; set; }

    [Parameter]
    public int Index { get; set; }

    [Parameter]
    public bool Selected { get; set; } = false;

    [Parameter]
    public EventCallback<int> OnSelected { get; set; }

    private void SelectProduct()
    {
        Selected = true;
        OnSelected.InvokeAsync(Index);
    }
}
